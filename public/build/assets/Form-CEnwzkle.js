import{d as e,J as t,e as l,P as s,Q as r,_ as a,w as o,f as n,g as u,k as d,u as i,i as c,j as m,E as b,Z as p,y as g,m as v,K as h,q as f,l as x,v as y,z as k,F as _,x as w,A as q,t as S}from"./vendor-Cy1J3uaY.js";import{A as j}from"./ApplicationLogo-DEclvB7y.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";const G={class:"min-h-screen bg-gradient-to-br from-bnhs-blue-50 via-white to-bnhs-gold-50"},L={class:"border-b border-gray-200 bg-white/80 backdrop-blur-md"},R={class:"mx-auto max-w-4xl px-4 py-4"},C={class:"flex items-center justify-between"},A={class:"mx-auto max-w-4xl px-4 py-8"},T={class:"rounded-2xl bg-white p-8 shadow-xl"},F={class:"mb-8 border-b border-gray-100 pb-6"},P={class:"flex items-center justify-between"},U={class:"rounded-full bg-bnhs-blue-100 px-4 py-2 text-sm font-medium text-bnhs-blue"},V={class:"mt-4 flex items-center gap-2 rounded-lg bg-green-50 px-4 py-2 text-sm text-green-700"},M={class:"grid gap-4 sm:grid-cols-3"},Y={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},B={key:0,class:"mt-1 text-sm text-red-600"},E={class:"grid gap-4 sm:grid-cols-2"},N=["value"],O={key:0,class:"mt-1 text-sm text-red-600"},$={class:"mt-1 text-xs text-gray-500"},I=["value"],J={key:0,class:"mt-1 text-sm text-red-600"},X={key:0,class:"mt-1 text-sm text-red-600"},z={key:0},Q=["required"],H=["label"],K=["value"],W={key:0,class:"mt-1 text-sm text-red-600"},Z=["value"],ee={key:0,class:"mt-1 text-sm text-red-600"},te={class:"grid gap-4 sm:grid-cols-2"},le={key:0,class:"mt-1 text-sm text-red-600"},se=["value"],re={key:0,class:"mt-1 text-sm text-red-600"},ae={key:1,class:"mt-3"},oe=["required"],ne={key:0,class:"mt-1 text-sm text-red-600"},ue={class:"space-y-4"},de={class:"rounded-lg border-2 border-dashed border-gray-300 p-4"},ie={class:"relative"},ce={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none text-gray-300"},me={key:0,class:"mt-2 text-sm text-red-600"},be={key:1,class:"mt-2 text-sm text-red-600"},pe={class:"flex items-center justify-between border-t border-gray-100 pt-6"},ge=["disabled"],ve={key:0},he={key:1},fe={key:2,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xe=e({__name:"Form",props:{documentType:{},email:{},trackStrands:{},gradeLevels:{},schoolYears:{}},setup(e){const xe=e,ye=t({first_name:"",middle_name:"",last_name:"",lrn:"",grade_level:"",section:"",track_strand:"",school_year_last_attended:"",purpose:"",purpose_other:"",quantity:1,document_type_id:xe.documentType.id,email:xe.email,signature:""}),ke=l(""),_e=l(null),we=l(!1),qe=l("");let Se=null;const je=s(()=>xe.trackStrands||{}),Ge=()=>{const e=_e.value;if(!e)return;const t=e.getBoundingClientRect(),l=window.devicePixelRatio||1;e.width=t.width*l,e.height=t.height*l,Se=e.getContext("2d"),Se&&(Se.scale(l,l),Se.strokeStyle="#000",Se.lineWidth=2,Se.lineCap="round",Se.lineJoin="round")};r(()=>{Ge(),window.addEventListener("resize",Ge)}),a(()=>{window.removeEventListener("resize",Ge)});const Le=e=>{we.value=!0,qe.value="";const t=_e.value;if(!t||!Se)return;const l=t.getBoundingClientRect(),s="touches"in e?e.touches[0].clientX-l.left:e.clientX-l.left,r="touches"in e?e.touches[0].clientY-l.top:e.clientY-l.top;Se.beginPath(),Se.moveTo(s,r)},Re=e=>{if(!we.value||!Se||!_e.value)return;e.preventDefault();const t=_e.value.getBoundingClientRect(),l="touches"in e?e.touches[0].clientX-t.left:e.clientX-t.left,s="touches"in e?e.touches[0].clientY-t.top:e.clientY-t.top;Se.lineTo(l,s),Se.stroke()},Ce=()=>{we.value&&_e.value&&(we.value=!1,ye.signature=_e.value.toDataURL())},Ae=()=>{_e.value&&Se&&(Se.clearRect(0,0,_e.value.width,_e.value.height),ye.signature="",qe.value="")},Te=[{value:"Grade 7",label:"Grade 7"},{value:"Grade 8",label:"Grade 8"},{value:"Grade 9",label:"Grade 9"},{value:"Grade 10",label:"Grade 10"},{value:"Grade 11",label:"Grade 11"},{value:"Grade 12",label:"Grade 12"}],Fe=[{value:"College Enrollment",label:"College Enrollment"},{value:"Job Application",label:"Job Application"},{value:"Scholarship Application",label:"Scholarship Application"},{value:"Transfer to Another School",label:"Transfer to Another School"},{value:"Personal Records",label:"Personal Records"},{value:"Other",label:"Other"}],Pe=s(()=>"Other"===ye.purpose),Ue=s(()=>"Grade 11"===ye.grade_level||"Grade 12"===ye.grade_level);s(()=>{const e=new Date,t=e.getFullYear();return e.getMonth()+1>=6?`${t}-${t+1}`:`${t-1}-${t}`});const Ve=s(()=>{const e=[],t=(new Date).getFullYear();for(let l=0;l<10;l++){const s=t-l;e.push(`${s}-${s+1}`)}return e});o(()=>ye.grade_level,e=>{Ue.value||(ye.track_strand="")}),o(()=>ye.purpose,e=>{"Other"!==e&&(ye.purpose_other="")});const Me=e=>{const t=e.target;t.value=t.value.replace(/\D/g,"").slice(0,12),ye.lrn=t.value,ye.lrn&&!/^\d{12}$/.test(ye.lrn)?ke.value="LRN must be exactly 12 digits":ke.value=""},Ye=()=>{if(!ye.signature)return void(qe.value="Please provide your signature");const e="Other"===ye.purpose?ye.purpose_other:ye.purpose;ye.transform(t=>({...t,purpose:e})).post(route("request.submit"),{forceFormData:!0})};return(t,l)=>(S(),n(_,null,[u(i(c),{title:"Request Form"}),d("div",G,[d("nav",L,[d("div",R,[d("div",C,[u(i(b),{href:t.route("home"),class:"flex items-center gap-3"},{default:m(()=>[u(j,{class:"h-10 w-auto"}),l[10]||(l[10]=d("span",{class:"font-semibold text-gray-900"},"eDocument Request",-1))]),_:1},8,["href"])])])]),d("div",A,[l[38]||(l[38]=p('<div class="mb-8 flex items-center justify-center"><div class="flex items-center"><div class="flex h-10 w-10 items-center justify-center rounded-full bg-green-500 text-white"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><span class="ml-2 text-green-600">Select Document</span></div><div class="mx-4 h-1 w-16 bg-green-500"></div><div class="flex items-center"><div class="flex h-10 w-10 items-center justify-center rounded-full bg-green-500 text-white"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><span class="ml-2 text-green-600">Verify Email</span></div><div class="mx-4 h-1 w-16 bg-bnhs-blue"></div><div class="flex items-center"><div class="flex h-10 w-10 items-center justify-center rounded-full bg-bnhs-blue text-white"> 3 </div><span class="ml-2 font-medium text-bnhs-blue">Fill Form</span></div></div>',1)),d("div",T,[d("div",F,[d("div",P,[l[11]||(l[11]=d("div",null,[d("h1",{class:"text-2xl font-bold text-gray-900"},"Document Request Form"),d("p",{class:"mt-1 text-gray-600"},"Fill in your details accurately")],-1)),d("div",U,g(e.documentType.name),1)]),d("div",V,[l[12]||(l[12]=d("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),v(" Email verified: "+g(e.email),1)])]),d("form",{onSubmit:h(Ye,["prevent"]),class:"space-y-8"},[d("div",null,[l[16]||(l[16]=d("h2",{class:"mb-4 text-lg font-semibold text-gray-900"},"Personal Information",-1)),d("div",M,[d("div",null,[l[13]||(l[13]=d("label",{for:"first_name",class:"block text-sm font-medium text-gray-700"},"First Name *",-1)),f(d("input",{id:"first_name",type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>i(ye).first_name=e),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},null,512),[[y,i(ye).first_name]]),i(ye).errors.first_name?(S(),n("p",Y,g(i(ye).errors.first_name),1)):x("",!0)]),d("div",null,[l[14]||(l[14]=d("label",{for:"middle_name",class:"block text-sm font-medium text-gray-700"},"Middle Name",-1)),f(d("input",{id:"middle_name",type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>i(ye).middle_name=e),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},null,512),[[y,i(ye).middle_name]]),i(ye).errors.middle_name?(S(),n("p",D,g(i(ye).errors.middle_name),1)):x("",!0)]),d("div",null,[l[15]||(l[15]=d("label",{for:"last_name",class:"block text-sm font-medium text-gray-700"},"Last Name *",-1)),f(d("input",{id:"last_name",type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>i(ye).last_name=e),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},null,512),[[y,i(ye).last_name]]),i(ye).errors.last_name?(S(),n("p",B,g(i(ye).errors.last_name),1)):x("",!0)])])]),d("div",null,[l[25]||(l[25]=d("h2",{class:"mb-4 text-lg font-semibold text-gray-900"},"Student Information",-1)),d("div",E,[d("div",null,[l[17]||(l[17]=d("label",{for:"lrn",class:"block text-sm font-medium text-gray-700"}," LRN (Learner Reference Number) * ",-1)),d("input",{id:"lrn",type:"text",value:i(ye).lrn,onInput:Me,required:"",maxlength:"12",placeholder:"12-digit LRN",class:"mt-1 block w-full rounded-lg border-gray-300 font-mono shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},null,40,N),ke.value||i(ye).errors.lrn?(S(),n("p",O,g(ke.value||i(ye).errors.lrn),1)):x("",!0),d("p",$,g(i(ye).lrn.length)+"/12 digits",1)]),d("div",null,[l[19]||(l[19]=d("label",{for:"grade_level",class:"block text-sm font-medium text-gray-700"},"Grade Level *",-1)),f(d("select",{id:"grade_level","onUpdate:modelValue":l[3]||(l[3]=e=>i(ye).grade_level=e),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},[l[18]||(l[18]=d("option",{value:""},"Select Grade Level",-1)),(S(),n(_,null,w(Te,e=>d("option",{key:e.value,value:e.value},g(e.label),9,I)),64))],512),[[k,i(ye).grade_level]]),i(ye).errors.grade_level?(S(),n("p",J,g(i(ye).errors.grade_level),1)):x("",!0)]),d("div",null,[l[20]||(l[20]=d("label",{for:"section",class:"block text-sm font-medium text-gray-700"},"Section",-1)),f(d("input",{id:"section",type:"text","onUpdate:modelValue":l[4]||(l[4]=e=>i(ye).section=e),placeholder:"e.g., A, B, Orchid",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},null,512),[[y,i(ye).section]]),i(ye).errors.section?(S(),n("p",X,g(i(ye).errors.section),1)):x("",!0)]),Ue.value?(S(),n("div",z,[l[22]||(l[22]=d("label",{for:"track_strand",class:"block text-sm font-medium text-gray-700"}," Track/Strand * ",-1)),f(d("select",{id:"track_strand","onUpdate:modelValue":l[5]||(l[5]=e=>i(ye).track_strand=e),required:Ue.value,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},[l[21]||(l[21]=d("option",{value:""},"Select Track/Strand",-1)),(S(!0),n(_,null,w(je.value,(e,t)=>(S(),n("optgroup",{key:t,label:t},[(S(!0),n(_,null,w(e,(e,t)=>(S(),n("option",{key:t,value:t},g(e),9,K))),128))],8,H))),128))],8,Q),[[k,i(ye).track_strand]]),i(ye).errors.track_strand?(S(),n("p",W,g(i(ye).errors.track_strand),1)):x("",!0)])):x("",!0),d("div",{class:q({"sm:col-span-2":!Ue.value})},[l[24]||(l[24]=d("label",{for:"school_year",class:"block text-sm font-medium text-gray-700"}," School Year Last Attended * ",-1)),f(d("select",{id:"school_year","onUpdate:modelValue":l[6]||(l[6]=e=>i(ye).school_year_last_attended=e),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},[l[23]||(l[23]=d("option",{value:""},"Select School Year",-1)),(S(!0),n(_,null,w(Ve.value,e=>(S(),n("option",{key:e,value:e},g(e),9,Z))),128))],512),[[k,i(ye).school_year_last_attended]]),i(ye).errors.school_year_last_attended?(S(),n("p",ee,g(i(ye).errors.school_year_last_attended),1)):x("",!0)],2)])]),d("div",null,[l[31]||(l[31]=d("h2",{class:"mb-4 text-lg font-semibold text-gray-900"},"Additional Information",-1)),d("div",te,[d("div",null,[l[26]||(l[26]=d("label",{for:"quantity",class:"block text-sm font-medium text-gray-700"},"Quantity *",-1)),f(d("input",{id:"quantity",type:"number","onUpdate:modelValue":l[7]||(l[7]=e=>i(ye).quantity=e),min:"1",max:"10",required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},null,512),[[y,i(ye).quantity,void 0,{number:!0}]]),l[27]||(l[27]=d("p",{class:"mt-1 text-xs text-gray-500"},"Number of copies (1-10)",-1)),i(ye).errors.quantity?(S(),n("p",le,g(i(ye).errors.quantity),1)):x("",!0)]),d("div",null,[l[30]||(l[30]=d("label",{for:"purpose",class:"block text-sm font-medium text-gray-700"},"Purpose of Request *",-1)),f(d("select",{id:"purpose","onUpdate:modelValue":l[8]||(l[8]=e=>i(ye).purpose=e),required:"",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},[l[28]||(l[28]=d("option",{value:""},"Select Purpose",-1)),(S(),n(_,null,w(Fe,e=>d("option",{key:e.value,value:e.value},g(e.label),9,se)),64))],512),[[k,i(ye).purpose]]),i(ye).errors.purpose?(S(),n("p",re,g(i(ye).errors.purpose),1)):x("",!0),Pe.value?(S(),n("div",ae,[l[29]||(l[29]=d("label",{for:"purpose_other",class:"block text-sm font-medium text-gray-700"},"Please specify *",-1)),f(d("input",{id:"purpose_other",type:"text","onUpdate:modelValue":l[9]||(l[9]=e=>i(ye).purpose_other=e),required:Pe.value,placeholder:"Enter your purpose",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-bnhs-blue focus:ring-bnhs-blue"},null,8,oe),[[y,i(ye).purpose_other]]),i(ye).errors.purpose_other?(S(),n("p",ne,g(i(ye).errors.purpose_other),1)):x("",!0)])):x("",!0)])])]),d("div",null,[l[35]||(l[35]=d("h2",{class:"mb-4 text-lg font-semibold text-gray-900"},"Signature *",-1)),d("div",ue,[d("div",de,[l[34]||(l[34]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Please sign below using your mouse or finger ",-1)),d("div",ie,[d("canvas",{ref_key:"signatureCanvas",ref:_e,class:"w-full border border-gray-300 rounded-lg bg-white cursor-crosshair touch-none",onMousedown:Le,onMousemove:Re,onMouseup:Ce,onMouseleave:Ce,onTouchstart:Le,onTouchmove:Re,onTouchend:Ce},null,544),i(ye).signature?x("",!0):(S(),n("div",ce,[...l[32]||(l[32]=[d("p",{class:"text-sm"},"Sign here",-1)])]))]),d("div",{class:"mt-2 flex justify-between items-center"},[l[33]||(l[33]=d("p",{class:"text-xs text-gray-500"}," Your signature will be used to verify your identity ",-1)),d("button",{type:"button",onClick:Ae,class:"text-sm text-red-600 hover:text-red-700 font-medium"}," Clear ")]),qe.value?(S(),n("p",me,g(qe.value),1)):x("",!0),i(ye).errors.signature?(S(),n("p",be,g(i(ye).errors.signature),1)):x("",!0)])])]),d("div",pe,[u(i(b),{href:t.route("request.select"),class:"text-gray-600 hover:text-gray-900"},{default:m(()=>[...l[36]||(l[36]=[v(" ‚Üê Start Over ",-1)])]),_:1},8,["href"]),d("button",{type:"submit",disabled:i(ye).processing||""!==ke.value,class:"flex items-center gap-2 rounded-xl bg-bnhs-blue px-8 py-3 font-semibold text-white transition hover:bg-bnhs-blue-600 disabled:cursor-not-allowed disabled:opacity-50"},[i(ye).processing?(S(),n("span",ve,"Submitting...")):(S(),n("span",he,"Submit Request")),i(ye).processing?x("",!0):(S(),n("svg",fe,[...l[37]||(l[37]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))],8,ge)])],32)])])])],64))}});export{xe as default};
