import{d as e,J as t,f as r,g as s,u as a,i as n,j as l,k as i,K as m,q as o,L as d,m as u,F as _,t as p}from"./vendor-Cy1J3uaY.js";import{_ as c}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DjBzGfo9.js";import{P as y}from"./PrimaryButton-mT-kTcVW.js";import{_ as x}from"./TextInput.vue_vue_type_script_setup_true_lang-CkH_Cd5h.js";import{_ as g,a as b}from"./InputError.vue_vue_type_script_setup_true_lang-i5oYyVWA.js";import"./ApplicationLogo-DEclvB7y.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";const v={class:"py-8"},f={class:"mx-auto max-w-3xl px-4 sm:px-6 lg:px-8"},h={class:"border-b border-gray-200 pb-6"},S={class:"space-y-4"},V={class:"border-b border-gray-200 pb-6"},w={class:"border-b border-gray-200 pb-6"},j={class:"space-y-4"},q={class:"flex items-center"},I={class:"flex justify-end"},k=e({__name:"Settings",props:{settings:{}},setup(e){const k=e,M=t({reminder_interval_days:k.settings.reminder_interval_days.toString(),max_reminder_count:k.settings.max_reminder_count.toString(),otp_expiry_minutes:k.settings.otp_expiry_minutes.toString(),school_year_current:k.settings.school_year_current,maintenance_mode:k.settings.maintenance_mode}),P=()=>{M.transform(e=>({...e,reminder_interval_days:parseInt(e.reminder_interval_days,10),max_reminder_count:parseInt(e.max_reminder_count,10),otp_expiry_minutes:parseInt(e.otp_expiry_minutes,10)})).patch(route("admin.settings.update"))};return(e,t)=>(p(),r(_,null,[s(a(n),{title:"System Settings"}),s(c,null,{header:l(()=>[...t[5]||(t[5]=[i("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," System Settings ",-1)])]),default:l(()=>[i("div",v,[i("div",f,[i("form",{onSubmit:m(P,["prevent"]),class:"space-y-6 rounded-xl bg-white p-6 shadow"},[i("div",h,[t[8]||(t[8]=i("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"Reminder Settings",-1)),i("div",S,[i("div",null,[s(g,{for:"reminder_interval_days",value:"Reminder Interval (Days)"}),s(x,{id:"reminder_interval_days",modelValue:a(M).reminder_interval_days,"onUpdate:modelValue":t[0]||(t[0]=e=>a(M).reminder_interval_days=e),type:"number",min:"1",max:"30",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(b,{message:a(M).errors.reminder_interval_days},null,8,["message"]),t[6]||(t[6]=i("p",{class:"mt-1 text-sm text-gray-500"}," Number of days between reminder emails for pending requests ",-1))]),i("div",null,[s(g,{for:"max_reminder_count",value:"Max Reminder Count"}),s(x,{id:"max_reminder_count",modelValue:a(M).max_reminder_count,"onUpdate:modelValue":t[1]||(t[1]=e=>a(M).max_reminder_count=e),type:"number",min:"1",max:"10",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(b,{message:a(M).errors.max_reminder_count},null,8,["message"]),t[7]||(t[7]=i("p",{class:"mt-1 text-sm text-gray-500"}," Maximum number of reminder emails to send per request ",-1))])])]),i("div",V,[t[10]||(t[10]=i("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"OTP Settings",-1)),i("div",null,[s(g,{for:"otp_expiry_minutes",value:"OTP Expiry (Minutes)"}),s(x,{id:"otp_expiry_minutes",modelValue:a(M).otp_expiry_minutes,"onUpdate:modelValue":t[2]||(t[2]=e=>a(M).otp_expiry_minutes=e),type:"number",min:"5",max:"60",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(b,{message:a(M).errors.otp_expiry_minutes},null,8,["message"]),t[9]||(t[9]=i("p",{class:"mt-1 text-sm text-gray-500"}," How long OTP codes remain valid (5-60 minutes) ",-1))])]),i("div",w,[t[13]||(t[13]=i("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"General Settings",-1)),i("div",j,[i("div",null,[s(g,{for:"school_year_current",value:"Current School Year"}),s(x,{id:"school_year_current",modelValue:a(M).school_year_current,"onUpdate:modelValue":t[3]||(t[3]=e=>a(M).school_year_current=e),type:"text",placeholder:"2024-2025",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(b,{message:a(M).errors.school_year_current},null,8,["message"]),t[11]||(t[11]=i("p",{class:"mt-1 text-sm text-gray-500"}," Current academic year (e.g., 2024-2025) ",-1))]),i("div",q,[o(i("input",{id:"maintenance_mode","onUpdate:modelValue":t[4]||(t[4]=e=>a(M).maintenance_mode=e),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-bnhs-blue focus:ring-bnhs-blue"},null,512),[[d,a(M).maintenance_mode]]),s(g,{for:"maintenance_mode",value:"Maintenance Mode",class:"ml-2"})]),t[12]||(t[12]=i("p",{class:"text-sm text-gray-500"}," Enable maintenance mode to temporarily disable the system ",-1))])]),i("div",I,[s(y,{disabled:a(M).processing},{default:l(()=>[...t[14]||(t[14]=[u(" Save Settings ",-1)])]),_:1},8,["disabled"])])],32)])])]),_:1})],64))}});export{k as default};
