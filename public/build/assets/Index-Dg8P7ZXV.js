import{g as e,i as t,c as s,j as r,u as a,k as l,l as d,a as i,y as n,z as o,n as u,m as p,o as c,F as x,q as g,t as m,x as y,T as h,B as f}from"./vendor-D2a9Ooci.js";import{_ as v}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BxbCq07Z.js";import"./ApplicationLogo-8ola3r45.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";const b={class:"py-8"},w={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},k={class:"mb-6 rounded-xl bg-white p-6 shadow"},_={class:"flex items-center justify-end"},j={class:"overflow-hidden rounded-xl bg-white shadow"},C={class:"min-w-full divide-y divide-gray-200"},A={class:"divide-y divide-gray-200 bg-white"},D={class:"whitespace-nowrap px-6 py-4"},L={class:"flex items-center gap-3"},z={class:"flex flex-col"},M={class:"font-medium text-gray-900"},U={key:0,class:"text-xs text-gray-500"},B={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},H={class:"whitespace-nowrap px-6 py-4"},N={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},P={class:"whitespace-nowrap px-6 py-4 text-right"},E={key:0,class:"flex items-center justify-end gap-3"},I=["onClick"],S={key:0},T={key:0,class:"border-t border-gray-200 bg-gray-50 px-6 py-4"},$={class:"flex items-center justify-between"},q={class:"text-sm text-gray-500"},F={class:"flex gap-2"},G={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},R={class:"flex min-h-screen items-center justify-center p-4"},Y={class:"relative w-full max-w-md rounded-xl bg-white p-6 shadow-xl"},J={class:"text-center"},K={class:"mt-2 text-sm text-gray-500"},O={class:"mt-6 flex justify-center gap-3"},Q=e({__name:"Index",props:{users:{}},setup(e){const Q=t(!1),V=t(null),W=()=>{V.value&&f.delete(route("admin.users.destroy",V.value.id),{onSuccess:()=>{Q.value=!1,V.value=null}})},X=e=>{const t={admin:"bg-purple-100 text-purple-800",registrar:"bg-blue-100 text-blue-800",guest:"bg-gray-100 text-gray-800"};return t[e]||t.guest};return(t,f)=>(c(),s(x,null,[r(a(l),{title:"Manage Users"}),r(v,null,{header:d(()=>[...f[2]||(f[2]=[i("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Manage Users ",-1)])]),default:d(()=>[i("div",b,[i("div",w,[i("div",k,[i("div",_,[r(a(o),{href:t.route("admin.users.create"),class:"flex items-center gap-2 rounded-lg bg-bnhs-blue px-4 py-2 text-sm font-medium text-white hover:bg-bnhs-blue-600"},{default:d(()=>[...f[3]||(f[3]=[i("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),u(" Add User ",-1)])]),_:1},8,["href"])])]),i("div",j,[i("table",C,[f[6]||(f[6]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Name "),i("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Email "),i("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Role "),i("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Created "),i("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"}," Actions ")])],-1)),i("tbody",A,[(c(!0),s(x,null,g(e.users.data,e=>{return c(),s("tr",{key:e.id,class:"hover:bg-gray-50"},[i("td",D,[i("div",L,[i("div",z,[i("span",M,m(e.name),1),e.id===t.$page.props.auth.user.id?(c(),s("span",U,"(You)")):p("",!0)])])]),i("td",B,m(e.email),1),i("td",H,[i("span",{class:y(["rounded-full px-3 py-1 text-xs font-medium capitalize",X(e.role)])},m(e.role),3)]),i("td",N,m((l=e.created_at,new Date(l).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"}))),1),i("td",P,[e.id!==t.$page.props.auth.user.id?(c(),s("div",E,[r(a(o),{href:t.route("admin.users.edit",e.id),class:"text-bnhs-blue hover:underline"},{default:d(()=>[...f[4]||(f[4]=[u(" Edit ",-1)])]),_:1},8,["href"]),i("button",{onClick:t=>(e=>{V.value=e,Q.value=!0})(e),class:"text-red-600 hover:underline"}," Delete ",8,I)])):p("",!0)])]);var l}),128)),0===e.users.data.length?(c(),s("tr",S,[...f[5]||(f[5]=[i("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-500"}," No users found ",-1)])])):p("",!0)])]),e.users.last_page>1?(c(),s("div",T,[i("div",$,[i("p",q," Page "+m(e.users.current_page)+" of "+m(e.users.last_page),1),i("div",F,[e.users.prev_page_url?(c(),n(a(o),{key:0,href:e.users.prev_page_url,class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100","preserve-scroll":""},{default:d(()=>[...f[7]||(f[7]=[u(" Previous ",-1)])]),_:1},8,["href"])):p("",!0),e.users.next_page_url?(c(),n(a(o),{key:1,href:e.users.next_page_url,class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100","preserve-scroll":""},{default:d(()=>[...f[8]||(f[8]=[u(" Next ",-1)])]),_:1},8,["href"])):p("",!0)])])])):p("",!0)])])]),(c(),n(h,{to:"body"},[Q.value?(c(),s("div",G,[i("div",R,[i("div",{class:"fixed inset-0 bg-black/50",onClick:f[0]||(f[0]=e=>Q.value=!1)}),i("div",Y,[i("div",J,[f[11]||(f[11]=i("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100"},[i("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),f[12]||(f[12]=i("h3",{class:"mt-4 text-lg font-semibold text-gray-900"},"Delete User",-1)),i("p",K,[f[9]||(f[9]=u(" Are you sure you want to delete ",-1)),i("strong",null,m(V.value?.name),1),f[10]||(f[10]=u("? This action cannot be undone. ",-1))])]),i("div",O,[i("button",{onClick:f[1]||(f[1]=e=>Q.value=!1),class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),i("button",{onClick:W,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700"}," Delete ")])])])])):p("",!0)]))]),_:1})],64))}});export{Q as default};
